#:schema node_modules/wrangler/config-schema.json
name = "hono"
compatibility_date = "2025-01-03"
compatibility_flags = ["nodejs_compat"]
main = "dist/index.js"
keep_vars = true

# R2 Bucket for markdown content (scanned by AI Search)
[[r2_buckets]]
binding = "CONTENT"
bucket_name = "hono-content"

# R2 Bucket for static assets (not indexed by AI Search)
[[r2_buckets]]
binding = "STATIC"
bucket_name = "hono-static"

# AI Search binding for semantic search
[ai]
binding = "AI"

# Variables and secrets are set via Cloudflare Dashboard:
# Workers & Pages → Your worker → Settings → Variables and Secrets
# Required: AI_SEARCH_INDEX (your AI Search index name)

# Rules for special file types
[[rules]]
type = "CompiledWasm"
globs = ["**/*.wasm"]
fallthrough = true
